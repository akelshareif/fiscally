{% extends "base.jinja" %}

{% block title %}
    Bills
{% endblock title %}

{% block content %}
    <div class="row">
    
        <div class="col-md-4 mb-2">
            <div class="card">
                <h4 class="card-header">Add A Bill</h4>
                <div class="card-body">
                    <form action="{{url_for('bills.bills_display')}}" method="POST">
                        {{bill_form.hidden_tag()}}
                        <div class="form-group">
                            {{bill_form.bill_name.label}}
                            {{bill_form.bill_name(class_="form-control", placeholder="Enter A Bill Name")}}
                            {% for error in bill_form.bill_name.errors %}
                                <div class="text-danger ml-1">{{error}}</div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            {{bill_form.bill_due_date.label}}
                            {{bill_form.bill_due_date(class_="form-control")}}
                            {% for error in bill_form.bill_due_date.errors %}
                                <div class="text-danger ml-1">{{error}}</div>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            {{bill_form.bill_amount.label}}
                            {{bill_form.bill_amount(class_="form-control", placeholder="Enter a Bill Amount")}}
                            {% for error in bill_form.bill_amount.errors %}
                                <div class="text-danger ml-1">{{error}}</div>
                            {% endfor %}
                        </div>
                        <button type="submit" class="btn btn-success float-right">
                            <i class="fas fa-plus"></i>
                            &nbsp; Add Bill
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-8">
            <div class="card">
                <h4 class="card-header">
                    <div class="row">
                        <div class="col">
                            Bills
                        </div>
                        <div class="col text-right d-none delete-btn">
                            <i class="far fa-trash-alt"></i>
                        </div>
                    </div>
                </h4>
                {% if bills %}
                    <table class="table table-sm table-striped text-center mb-0">
                        <thead>
                            <tr>
                                <th scope="col">Select</th>
                                <th scope="col">Due Date</th>
                                <th scope="col">Bill</th>
                                <th scope="col">Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for bill in bills %}
                                <tr>
                                    <th scope="row">
                                        <input type="checkbox" />
                                    </th>
                                    <td>{{bill.due_date}}</td>
                                    <td>{{bill.name}}</td>
                                    <td>${{bill.amount}}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                {% else %}
                    <div class="jumbotron mb-0">
                        <p class="lead text-center">No bills have been entered yet!</p>
                    </div>
                {% endif %}
            </div>
        </div>

    </div>
{% endblock content %}

{% block script_tag %}
    <script src="{{url_for('static', filename='bills.js')}}"></script>
{% endblock script_tag %}